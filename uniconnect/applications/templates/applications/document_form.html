{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <div class="card">
        <div class="card-header">
            <h2 class="mb-0">{% if form.instance.id %}Update Document{% else %}Upload Document{% endif %}</h2>
        </div>
        <div class="card-body">
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                
                <div class="row mb-4">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label for="{{ form.document_type.id_for_label }}" class="form-label">Document Type</label>
                            {{ form.document_type }}
                            {% if form.document_type.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.document_type.errors }}
                                </div>
                            {% endif %}
                        </div>

                        <div class="mb-3">
                            <label for="{{ form.file.id_for_label }}" class="form-label">Document File</label>
                            {{ form.file }}
                            {% if form.file.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.file.errors }}
                                </div>
                            {% endif %}
                            <div class="form-text">
                                Accepted file types: PDF, DOC, DOCX, JPG, PNG. Maximum file size: 10MB.
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Document Requirements</h5>
                            </div>
                            <div class="card-body">
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item">
                                        <strong>Academic Transcript:</strong> Official transcript from your high school
                                    </li>
                                    <li class="list-group-item">
                                        <strong>High School Diploma:</strong> Copy of your high school diploma
                                    </li>
                                    <li class="list-group-item">
                                        <strong>IELTS/TOEFL Certificate:</strong> Official English proficiency test results
                                    </li>
                                    <li class="list-group-item">
                                        <strong>Passport Copy:</strong> Clear copy of your passport information page
                                    </li>
                                    <li class="list-group-item">
                                        <strong>Passport Photo:</strong> Recent passport-sized photograph
                                    </li>
                                    <li class="list-group-item">
                                        <strong>Recommendation Letter:</strong> Letter from a teacher or academic advisor
                                    </li>
                                    <li class="list-group-item">
                                        <strong>Motivation Letter:</strong> Personal statement explaining your interest in the program
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-between">
                    <a href="{% url 'application_detail' application.id %}" class="btn btn-secondary">Cancel</a>
                    <button type="submit" class="btn btn-primary">{% if form.instance.id %}Update Document{% else %}Upload Document{% endif %}</button>
                </div>
            </form>
        </div>
    </div>
</div>

{% block extra_js %}
<script>
    // Add Bootstrap classes to form fields
    document.querySelectorAll('input, select').forEach(element => {
        element.classList.add('form-control');
    });
    
    // Add specific classes for file input
    document.querySelector('input[type="file"]').classList.add('form-control-file');
</script>
{% endblock %}
{% endblock %} 